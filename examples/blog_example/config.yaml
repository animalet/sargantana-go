server:
  address: "localhost:8081"
  session_secret: "${file:SESSION_SECRET}"
  session_name: "sargantana_session"
  secrets_dir: "./secrets"

database: # postgresql
  host: "localhost"
  port: 5432
  database: my_blog_db
  user: ${file:DB_USER}
  password: ${file:DB_PASSWORD}

controllers:
  - type: "blog"
    name: "my_blog"
    config:
      feed_url: "/blog/feed"
      post_url: "/blog/post"
      admin_area_url: "/blog/admin"

  - type: "auth"
    config:
      callback_url: "https://myblog.com"
      login_path: "/auth/{provider}"
      logout_path: "/auth/{provider}/logout"
      callback_path: "/auth/{provider}/callback"
      user_info_path: "/user"
      redirect_on_login: "/blog/admin"
      redirect_on_logout: "/blog/feed"
      providers:
        openid-connect:
          key: "${file:OPENID_CONNECT_KEY}"
          secret: "${file:OPENID_CONNECT_SECRET}"
          url: "http://localhost:8080/.well-known/openid_configuration"
          scopes:
            - "openid"
            - "profile"
            - "email"