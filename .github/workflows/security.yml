name: Security Scan
on: [push, pull_request]
jobs:
  gosec:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v6
      - name: Run Gosec
        uses: securego/gosec@master
        with:
          args: '-fmt sarif -out results.sarif ./...'

  dependency-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Run Nancy
        run: |
          go list -json -m all | nancy sleuth
